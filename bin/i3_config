#!/usr/bin/env bash
# Arquivo: i3_config
# Autor: Bruno Franco
# Download: git@github.com:brnfra
# Licence:Este arquivo é de domínio público
# Garantia: O autor não se responsabiliza por eventuais danos
#           causados pelo uso deste arquivo.
#Generated by script to manage in multiple computer
#https://unixsheikh.com/tutorials/how-you-can-manage-the-i3-window-manager-on-multiple-computers.html
# shellcheck source=~/bin/dotfiles_env
. dotfiles_env

clnInfo "${0##*/}"
################################################################################################
## definitions                                                                                ##{{{
################################################################################################
#mod Mod1(Alt) or Mod4(Win)
mod_button="Mod4"
# Initializing the variable. 0 = true
use_gaps="true"
system_id=$(cat < /etc/os-release | sed -n -r '/^ID=/p' | cut -d "=" -f 2)

# Settings.
#gaps
gaps_inner=2
gaps_outer=2
#colors
i3darker="#080910"
dark="#181920"
i3black="#2C323E"
#darkgray="#3B4252"
i3gray="#E7E8EB"
i3white="#F5F6F7"
i3red="#F74336"
#orange="#FF6600"
#orangedark="#FFA366"
i3yellow="#FFFF00"
i3green="#00FF00"
#cyan="#00FFFF"
i3blue="#0066FF"
i3purple="#9800FE"
#Paths i3blocks
status_command="i3blocks -c \$HOME/.i3/i3blocks.conf"
status_command2="i3blocks -c \$HOME/.i3/i3blocks_v.conf"
cfg_dir="\$HOME/.i3"
binaries="\$HOME/bin"
#font
#Apps
if xfce4-terminal -V &> /dev/null;then
    Terminal="xfce4-terminal"
else
    Terminal="i3-sensible-terminal"
fi

# Get OS and hostname.
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    use_gaps="false"
fi
if [ -d "$HOME/.i3" ]; then
    #backup 
    mv -f "$i3_cfg" "$i3_cfg".backup 
    mv -f "$i3_cfg".backup "${1:-$bkpdir}" 
else
    mkdir -pv "$HOME/.i3"
fi
options="# i3 config. Auto generate\n"
options="${options}# Check ~/bin/i3_config\n"
options="${options}set \$mod $mod_button\n"
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    font="Monofur NF 10"
    options="${options}font pango:$font\n"
elif [ "$system_id" = "manjaro" ]; then
    font="URWGothic-Book 10"
    options="${options}font xft:$font\n"
fi

#}}}
###############################
### Definitionsfor i3-gaps: ###{{{
###############################
options="${options}set \$binaries $binaries\n"
options="${options}set \$sup bindsym Mod4\n"

options="${options}set \$exe exec --no-startup-id\n"
options="${options}set \$exe_always exec_always --no-startup-id\n"

# Open specific applications in floating mode
# Disable title bars.
options="${options}for_window [class=\"^.*\"] border pixel 2\n"
options="${options}assign [class=\"Firefox-esr\"] \$ico_firefox\n"
options="${options}assign [class=\"firefox\"] \$ico_firefox\n"
options="${options}assign [class=\"Firefox\"] \$ico_firefox\n"
options="${options}assign [class=\"calibre\"] \$ico_calibre\n"
options="${options}assign [class=\"okular\"] \$ico_pdf\n"
options="${options}assign [class=\"Pcmanfm\"] \$ico_window\n"
options="${options}assign [instance=\"pcmanfm\"] \$ico_window\n"
options="${options}assign [instance=\"pamac-manager\"] \$ico_package\n"
options="${options}assign [class=\"Virt-manager\"] \$ico_monitor\n"
#icons
options="${options}set \$ico_bank     <span font='Font Awesome'>&#xf155;</span>\n"
options="${options}set \$ico_chat     <span font='Font Awesome'>&#xf27b;</span>\n"
options="${options}set \$ico_chrome   <span font='Font Awesome'>&#xf268;</span>\n"
options="${options}set \$ico_code     <span font='Font Awesome'>&#xf121;</span>\n"
options="${options}set \$ico_document <span font='Font Awesome'>&#xf0f6;</span>\n"
options="${options}set \$ico_pdf      <span font='Font Awesome'>&#xf1c1;</span>\n" 
options="${options}set \$ico_editor   <span font='Font Awesome'>&#xf044;</span>\n"
options="${options}set \$ico_email    <span font='Font Awesome'>&#xf003;</span>\n"
options="${options}set \$ico_firefox  <span font='Font Awesome'>&#xf269;</span>\n"
options="${options}set \$ico_folder   <span font='Font Awesome'>&#xf115;</span>\n"
options="${options}set \$ico_github   <span font='Font Awesome'>&#xf09b;</span>\n"
options="${options}set \$ico_hangouts <span font='Font Awesome'>&#xf10e;</span>\n"
options="${options}set \$ico_menu     <span font='Font Awesome'>&#xf0c9;</span>\n"
options="${options}set \$ico_monitor  <span font='Font Awesome'>&#xf26c;</span>\n"
options="${options}set \$ico_music    <span font='Font Awesome'>&#xf001;</span>\n"
options="${options}set \$ico_news     <span font='Font Awesome'>&#xf09e;</span>\n"
options="${options}set \$ico_package  <span font='Font Awesome'>&#xf1c6;</span>\n"
options="${options}set \$ico_play     <span font='Font Awesome'>&#xf01d;</span>\n"
options="${options}set \$ico_table    <span font='Font Awesome'>&#xf0ce;</span>\n"
options="${options}set \$ico_telegram <span font='Font Awesome'>&#xf1d9;</span>\n"
options="${options}set \$ico_terminal <span font='Font Awesome'>&#xf120;</span>\n"
options="${options}set \$ico_video    <span font='Font Awesome'>&#xf008;</span>\n"
options="${options}set \$ico_volume   <span font='Font Awesome'>&#xf028;</span>\n"
options="${options}set \$ico_whatsapp <span font='Font Awesome'>&#xf232;</span>\n"
options="${options}set \$ico_window   <span font='Font Awesome'>&#xf2d0;</span>\n"
options="${options}set \$ico_calibre   <span font='Font Awesome'>&#xf212;</span>\n"
# exec shortener 
# Use Mouse+$mod to drag floating windows to their wanted position.
options="${options}floating_modifier \$mod\n"
# Disable focus following the mouse (no).
options="${options}focus_follows_mouse yes\n"
options="${options}hide_edge_borders smart\n"
options="${options}default_border pixel 2\n"
# Focus the child container.
options="${options}workspace_auto_back_and_forth yes\n"
options="${options}set \$ws1  \"1\"\n"
options="${options}set \$ws2  \"2\"\n"
options="${options}set \$ws3  \"3\"\n"
options="${options}set \$ws4  \"4\"\n"
options="${options}set \$ws5  \"5\"\n"
options="${options}set \$ws6  \"6\"\n"
options="${options}set \$ws7  \"7\"\n"
options="${options}set \$ws8  \"8\"\n"
options="${options}set \$ws9  \"9\"\n"
options="${options}set \$ws10 \"10\"\n"

# Assign to floating by default.
options="${options}for_window [class=\"mpv\"] floating enable\n"
options="${options}for_window [class=\"gnome-calculator\"] floating enable\n"
# Let's try to get most pop-up floating.
options="${options}for_window [window_role=\"pop-up\"] floating enable\n"
options="${options}for_window [window_role=\"bubble\"] floating enable\n"
options="${options}for_window [window_role=\"task_dialog\"] floating enable\n"
options="${options}for_window [window_role=\"Preferences\"] floating enable\n"
options="${options}for_window [window_type=\"dialog\"] floating enable\n"
options="${options}for_window [window_type=\"menu\"] floating enable\n"
options="${options}for_window [class=\"GoldenDict\"] floating enable resize set 800 800\n"
options="${options}for_window [title=\"File Transfer*\"] floating enable\n"
options="${options}for_window [class=\"knotes\"] floating enable resize set 500 500\n"
options="${options}for_window [class=\"GParted\"] floating enable border normal set 800 800\n"
options="${options}for_window [title=\"Calculator\"] floating enable move position center\n"
#virtual machines
options="${options}for_window [class=\"Virt-manager\"] fullscreen enable\n" 

#}}}
#############################
### settings for i3-gaps: ###{{{
#############################
# Running with i3-gaps.
if [ "$use_gaps" = "true" ]; then
    options="${options}gaps inner $gaps_inner\n"
    options="${options}gaps outer $gaps_outer\n"


    # Additionally, you can issue commands with the following syntax. This is useful to bind keys to changing the gap size.
    # gaps inner|outer current|all set|plus|minus <px>
    # gaps inner all set 10
    # gaps outer all plus 5

    # Smart gaps (gaps used if only more than one container on the workspace)
    options="${options}smart_gaps on\n"

    # Smart borders (draw borders around container only if it is not the only container on this workspace) 
    # on|no_gaps (on=always activate and no_gaps=only activate if the gap size to the edge of the screen is 0)
    options="${options}smart_borders on\n"

    # Press $mod+Shift+g to enter the gap mode. Choose o or i for modifying outer/inner gaps. Press one of + / - (in-/decrement for current workspace) or 0 (remove gaps for current workspace). If you also press Shift with these keys, the change will be global for all workspaces.

    # Additionally, you can issue commands with the following syntax. This is useful to bind keys to changing the gap sie.
    # gaps inner|outer current|all set|plus|minus <px>
    # gaps inner all set 10
    # gaps outer all plus 5

    # Smart gaps (gaps used if only more than one container on the workspace)
    options="${options}smart_gaps on\n"

    # Smart borders (draw borders around container only if it is not the only container on this workspace) 
    # on|no_gaps (on=always activate and no_gaps=only activate if the gap size to the edge of the screen is 0)
    options="${options}smart_borders on\n"

    # Press $mod+Shift+g to enter the gap mode. Choose o or i for modifying outer/inner gaps. 
    # Press one of + / - (in-/derement for current workspace) or 0 (remove gaps for current workspace). If you also press Shift with these keys, the
    #change will be global for all workspaces.
    options="${options}set \$mode_gaps Gaps: (o) outer, (i) inner\n"
    options="${options}set \$mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)\n"
    options="${options}set \$mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)\n"
    options="${options}bindsym \$mod+Shift+g mode \"\$mode_gaps\"\n"
    options="${options}\n"

    options="${options}mode \"\$mode_gaps\" {\n"
    options="${options}        bindsym o      mode \"\$mode_gaps_outer\"\n"
    options="${options}        bindsym i      mode \"\$mode_gaps_inner\"\n"
    options="${options}        bindsym Return mode \"default\"\n"
    options="${options}        bindsym Escape mode \"default\"\n"
    options="${options}}\n"

    options="${options}mode \"\$mode_gaps_inner\" {\n"
    options="${options}        bindsym plus  gaps inner current plus 5\n"
    options="${options}        bindsym minus gaps inner current minus 5\n"
    options="${options}        bindsym 0    gaps inner current set 0\n"
    options="${options}\n"
    options="${options}        bindsym Shift+plus  gaps inner all plus 5\n"
    options="${options}        bindsym Shift+minus gaps inner all minus 5\n"
    options="${options}        bindsym Shift+0     gaps inner all set 0\n"
    options="${options}\n"
    options="${options}        bindsym Return mode \"default\"\n"
    options="${options}        bindsym Escape mode \"default\"\n"
    options="${options}}\n"

    options="${options}mode \"\$mode_gaps_outer\" {\n"
    options="${options}        bindsym plus  gaps outer current plus 5\n"
    options="${options}        bindsym minus gaps outer current minus 5\n"
    options="${options}        bindsym 0     gaps outer current set 0\n"
    options="${options}\n"
    options="${options}        bindsym Shift+plus  gaps outer all plus 5\n"
    options="${options}        bindsym Shift+minus gaps outer all minus 5\n"
    options="${options}        bindsym Shift+0     gaps outer all set 0\n"
    options="${options}\n"
    options="${options}        bindsym Return mode \"default\"\n"
    options="${options}        bindsym Escape mode \"default\"\n"
    options="${options}}\n"
    #I3 gaps use IF
fi
#}}}
################################################################################################
## keybindings                                                                                ##{{{
################################################################################################

#Terminal
options="${options}bindsym \$mod+Return exec $Terminal\n"
# Kill focused window.
options="${options}bindsym \$mod+Shift+q kill\n"
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    #dmenu
    #options="${options}bindsym \$mod+d \$exe dmenu_run -b -l 15 -fn monofur\n"
    #options="${options}for_window [title=\"fzf-menu\"] floating enable move position center\n"
    options="${options}bindsym \$mod+d \$exe rofi -show drun\n"
elif [ "$system_id" = "manjaro" ]; then
    #dmenu
    options="${options}bindsym \$mod+Ctrl+d \$exe dmenu_recency\n"
    options="${options}bindsym \$mod+d \$exe rofi -show drun\n"
    #options="${options}bindsym \$mod+d \$exe dmenu_run -b -l 15 -fn monofur\n"
    #options="${options}bindsym \$mod+d \$exe xfce4-terminal --title='fzf-menu' --command='i3-dmenu-desktop --dmenu=fzf'\n"
    #options="${options}for_window [title=\"fzf-menu\"] floating enable move position center\n"
fi
# Chance focus.
options="${options}bindsym \$mod+y focus left\n"
options="${options}bindsym \$mod+j focus down\n"
options="${options}bindsym \$mod+u focus up\n"
options="${options}bindsym \$mod+i focus right\n"
# alternatively, you can use the cursor keys:
options="${options}bindsym \$mod+Left focus left\n"
options="${options}bindsym \$mod+Down focus down\n"
options="${options}bindsym \$mod+Up focus up\n"
options="${options}bindsym \$mod+Right focus right\n"
# Move focused window.
options="${options}bindsym \$mod+Shift+y move left\n"
options="${options}bindsym \$mod+Shift+j move down\n"
options="${options}bindsym \$mod+Shift+u move up\n"
options="${options}bindsym \$mod+Shift+i move right\n"
# Move focused window arrows.
options="${options}bindsym \$mod+Shift+Left move left\n"
options="${options}bindsym \$mod+Shift+Down move down\n"
options="${options}bindsym \$mod+Shift+Up move up\n"
options="${options}bindsym \$mod+Shift+Right move right\n"
# split orientation
options="${options}bindsym \$mod+v split h;exec notify-send 'tile horizontally'\n"
options="${options}bindsym \$mod+h split v;exec notify-send 'tile vertically'\n"
options="${options}bindsym \$mod+x split toggle;exec notify-send 'tile toggle'\n"
# Split in horizontal orientation.
#options="${options}bindsym \$mod+Shift+h split h\n"
# Split in vertical orientation.
#options="${options}bindsym \$mod+Shift+v split v\n"
# Enter fullscreen mode for the focused container.
options="${options}bindsym \$mod+Shift+f fullscreen toggle\n"
# Change container layout (stacked, tabbed, toggle split).
options="${options}bindsym \$mod+Ctrl+s layout stacking\n"
options="${options}bindsym \$mod+Shift+t layout tabbed\n"
options="${options}bindsym \$mod+Shift+e layout toggle split\n"
# Toggle tiling / floating.
options="${options}bindsym \$mod+f floating toggle\n"
# Change focus between tiling / floating windows.
options="${options}bindsym \$mod+space focus mode_toggle\n"
# focus the parent container
options="${options}bindsym \$mod+a focus parent\n"
# Focus the parent container.
#bindsym $mod+a focus parent
# Switch to workspace.
options="${options}bindsym \$mod+1 workspace \$ws1\n"
options="${options}bindsym \$mod+2 workspace \$ws2\n"
options="${options}bindsym \$mod+3 workspace \$ws3\n"
options="${options}bindsym \$mod+4 workspace \$ws4\n"
options="${options}bindsym \$mod+5 workspace \$ws5\n"
options="${options}bindsym \$mod+6 workspace \$ws6\n"
options="${options}bindsym \$mod+7 workspace \$ws7\n"
options="${options}bindsym \$mod+8 workspace \$ws8\n"
options="${options}bindsym \$mod+9 workspace \$ws9\n"
#options="${options}bindsym \$mod+0 workspace \$ws10\n"
options="${options}bindsym \$mod+b workspace back_and_forth\n"
options="${options}bindsym \$mod+Tab workspace next\n"
# Move focused container to workspace.
options="${options}bindsym \$mod+Ctrl+1 move container to workspace \$ws1\n"
options="${options}bindsym \$mod+Ctrl+2 move container to workspace \$ws2\n"
options="${options}bindsym \$mod+Ctrl+3 move container to workspace \$ws3\n"
options="${options}bindsym \$mod+Ctrl+4 move container to workspace \$ws4\n"
options="${options}bindsym \$mod+Ctrl+5 move container to workspace \$ws5\n"
options="${options}bindsym \$mod+Ctrl+6 move container to workspace \$ws6\n"
options="${options}bindsym \$mod+Ctrl+7 move container to workspace \$ws7\n"
options="${options}bindsym \$mod+Ctrl+8 move container to workspace \$ws8\n"
options="${options}bindsym \$mod+Ctrl+9 move container to workspace \$ws9\n"
options="${options}bindsym \$mod+Ctrl+0 move container to workspace \$ws10\n"
options="${options}bindsym \$mod+Ctrl+b move workspace back_and_forth\n"
# move the currently focused window to the scratchpad
options="${options}bindsym \$mod+Shift+minus move scratchpad\n"
# Show the first scratchpad window
options="${options}bindsym \$mod+minus scratchpad show\n"
# Move to workspace with focused container
options="${options}bindsym \$mod+Shift+1 move container to workspace \$ws1; workspace \$ws1\n"
options="${options}bindsym \$mod+Shift+2 move container to workspace \$ws2; workspace \$ws2\n"
options="${options}bindsym \$mod+Shift+3 move container to workspace \$ws3; workspace \$ws3\n"
options="${options}bindsym \$mod+Shift+4 move container to workspace \$ws4; workspace \$ws4\n"
options="${options}bindsym \$mod+Shift+5 move container to workspace \$ws5; workspace \$ws5\n"
options="${options}bindsym \$mod+Shift+6 move container to workspace \$ws6; workspace \$ws6\n"
options="${options}bindsym \$mod+Shift+7 move container to workspace \$ws7; workspace \$ws7\n"
options="${options}bindsym \$mod+Shift+8 move container to workspace \$ws8; workspace \$ws8\n"
options="${options}bindsym \$mod+Shift+b workspace back_and_forth\n"
#resize set [width] <width> [px | ppt] [height] <height> [px | ppt]
# Jump to the latest "urgent" window.
options="${options}bindsym \$mod+Ctrl+u [urgent=latest] focus\n"
# Reload the configuration file.
options="${options}bindsym \$mod+Shift+d reload\n"
# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3).
options="${options}bindsym \$mod+Shift+r restart\n"
# exit i3 labed (logs you out of your X session) 
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    options="${options}bindsym \$mod+Ctrl+l \$exe i3lock-fancy -p\n"
    options="${options}bindsym \$mod+e exec \"i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'\"\n"

    #exit, logout, shutdown, restart etc
    options="${options}bindsym \$mod+Escape mode \"Warning. You call system control. Choose: Esc or Enter to Cancel, ne[t] refresh, [e]xit, [s]uspend, [r]eboot, Shut[d]own\"\n"
    options="${options}mode \"Warning. You call system control. Choose: Esc or Enter to Cancel, ne[t] refresh, [e]xit, [s]uspend, [r]eboot, Shut[d]own\" {\n"
    options="${options}	bindsym t \$exe systemctl restart NetworkManager, mode default\n"
    options="${options}	bindsym e \$exe i3-msg exit , mode default\n"
    options="${options}	bindsym s \$exe systemctl suspend, mode default\n"
    options="${options}	bindsym r \$exe systemctl reboot , mode default\n"
    options="${options}	bindsym d \$exe systemctl poweroff, mode default\n"
    options="${options}	bindsym Return mode default\n"
    options="${options}	bindsym Escape mode default\n"
    options="${options}}\n"
    # Resize window (you can also use the mouse for that).
    options="${options}bindsym \$mod+Ctrl+r mode resize\n"
    options="${options}mode resize {\n"
    options="${options}    bindsym h resize shrink width 10 px or 10 ppt\n"
    options="${options}    bindsym j resize grow height 10 px or 10 ppt\n"
    options="${options}    bindsym k resize shrink height 10 px or 10 ppt\n"
    ##options="${options}    bindsym l resize grow width 10 px or 10 ppt\n"
    #with arrow
    options="${options}    bindsym Left resize shrink width 10 px or 10 ppt\n"
    options="${options}    bindsym Down resize grow height 10 px or 10 ppt\n"
    options="${options}    bindsym Up resize shrink height 10 px or 10 ppt\n"
    options="${options}    bindsym Right resize grow width 10 px or 10 ppt\n"
    # Back to normal: Enter or Escape.
    options="${options}    bindsym Return mode default\n"
    options="${options}    bindsym Escape mode default\n"
    options="${options}    bindsym \$mod+r mode default\n"
    options="${options}}\n"

elif [ "$system_id" = "manjaro" ]; then
    options="${options}bindsym \$mod+Ctrl+l \$exe blurlock\n"
    # exit i3 (logs you out of your X session)
    #options="${options}bindsym \$mod+Shift+e exec \"i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'\"\n"

    # Set shut down, restart and locking features
    options="${options}bindsym \$mod+Escape mode \"\$mode_system\"\n"
    options="${options}set \$mode_system (l)ock, (e)xit, switch_(u)ser, (s)uspend, (h)ibernate, (r)eboot, (Shift+s)hutdown\n"
    options="${options}mode \"\$mode_system\" {\n"
    options="${options}    bindsym l \$exe i3exit lock, mode \"default\"\n"
    options="${options}    bindsym e \$exe i3exit logout, mode \"default\"\n"
    options="${options}    bindsym u \$exe i3exit switch_user, mode \"default\"\n"
    options="${options}    bindsym s \$exe i3exit suspend, mode \"default\"\n"
    options="${options}    bindsym h \$exe i3exit hibernate, mode \"default\"\n"
    options="${options}    bindsym r \$exe i3exit reboot, mode \"default\"\n"
    options="${options}    bindsym Shift+s \$exe i3exit shutdown, mode \"default\"\n"

    # exit system mode: "Enter" or "Escape""
    options="${options}    bindsym Return mode \"default\"\n"
    options="${options}    bindsym Escape mode \"default\"\n"
    options="${options}}\n"
fi
# Keybidings Start Applications 
#bindsym Ctrl+1 exec xfce4-appfinder

if [ "$system_id" = "ubuntu" ] || [ "$system_id" = "debian" ]; then
    options="${options}bindsym Ctrl+1 exec firefox-esr\n"
elif [ "$system_id" = "manjaro" ]; then
    options="${options}bindsym Ctrl+1 exec firefox\n"
    options="${options}bindsym Ctrl+F1 exec xdg-open /usr/share/doc/manjaro/i3_help.pdf\n"
    # start program launcher
    # launch categorized menu
    options="${options}bindsym \$mod+z \$exe morc_menu\n"
    options="${options}bindsym \$mod+Shift+m exec $Terminal -x 'bmenu'\n"
fi
options="${options}bindsym Ctrl+0 exec $Terminal -x vim $cfg_dir/config\n"
options="${options}bindsym Ctrl+3 exec pcmanfm\n"
options="${options}bindsym Ctrl+2 exec $Terminal -x vifm\n"
options="${options}bindsym Ctrl+F2 exec $Terminal -x alsamixer\n"
options="${options}bindsym Print --release \$exe $binaries/i3-scrot\n"
options="${options}bindsym \$mod+Shift+Print --release \$exe $binaries/i3-scrot -w\n"
options="${options}bindsym \$mod+Print --release \$exe $binaries/i3-scrot -s\n"
options="${options}bindsym \$mod+Ctrl+x --release \$exe xkill\n"


#}}}
################################################################################################
##  Color appearance                                                                          ##{{{
################################################################################################


# -----------------------------------------------------------------
		    # class                 border      backgr. text    indicator child_border
options="${options}client.focused          $i3green    $i3black  $i3white  $i3purple   $i3green\n"
options="${options}client.focused_inactive $dark       $dark   $i3white  $i3yellow   $dark\n"
options="${options}client.unfocused        $dark       $dark   $i3white  $i3purple   $dark\n"
options="${options}client.urgent           $i3red      $dark   $i3white  $i3red      $i3red\n"
options="${options}client.background       $dark\n"

#}}}
################################################################################################
## i3bar config                                                                               ##{{{
################################################################################################

if [ "$system_id" = "debian" ]; then
    # Place workspace.
    #options="${options}workspace 1 output $monitor1\n"
    #options="${options}workspace 2 output $monitor2\n"
    options="${options}bar {\n"
    options="${options}    id bar-1 \n"
    options="${options}    position top\n"
    options="${options}    output primary\n"
    options="${options}    tray_output primary\n"
    options="${options}    tray_padding 2\n"
    options="${options}    separator_symbol \" \"\n"
    options="${options}    mode dock \n"
    options="${options}    font pango: $font\n"
    options="${options}    status_command $status_command\n"
    options="${options}    colors {\n"
    options="${options}    background $i3darker\n"
    #options="${options}    statusline $i3darker\n"
    #options="${options}        separator  $i3purple\n"
			       #                border     backgr      text
    options="${options}    focused_workspace    $i3blue    $i3green    $dark\n"
    options="${options}    active_workspace	$dark      $i3blue     $i3white\n"
    options="${options}    inactive_workspace   $dark      $i3gray     $dark\n"
    options="${options}    urgent_workspace	$dark      $i3yellow   $dark\n"
    options="${options}    }\n"
    options="${options}}\n"
    options="${options}bar {\n"
    options="${options}    id bar-2 \n"
    options="${options}    position top\n"
    options="${options}    output nonprimary\n"
    options="${options}    tray_output none\n"
    options="${options}    tray_padding 2\n"
    options="${options}    separator_symbol \" \"\n"
    options="${options}    mode dock \n"
    options="${options}    font pango: $font\n"
    options="${options}    status_command $status_command2\n"
    options="${options}    colors {\n"
    options="${options}    background $i3darker\n"
    #options="${options}    statusline $i3darker\n"
    #options="${options}        separator  $i3purple\n"
			       #                border     backgr      text
    options="${options}    focused_workspace    $i3blue    $i3green    $dark\n"
    options="${options}    active_workspace	$dark      $i3blue     $i3white\n"
    options="${options}    inactive_workspace   $dark      $i3gray     $dark\n"
    options="${options}    urgent_workspace	$dark      $i3yellow   $dark\n"
    options="${options}    }\n"
    options="${options}}\n"
elif [ "$system_id" = "ubuntu" ]; then
    options="${options}bar {\n"
    options="${options}    id bar-1 \n"
    options="${options}    position top\n"
    options="${options}    output primary\n"
    options="${options}    tray_output primary\n"
    options="${options}    tray_padding 2\n"
    options="${options}    separator_symbol \" \"\n"
    options="${options}    mode dock \n"
    options="${options}    font pango: $font\n"
    options="${options}    status_command $status_command\n"
    options="${options}    colors {\n"
    options="${options}    background $i3darker\n"

    #options="${options}    separator  $i3purple\n"
			   #                    border     backgr      text
    options="${options}    focused_workspace    $i3blue    $i3green    $dark\n"
    options="${options}    active_workspace	$dark      $i3blue     $i3white\n"
    options="${options}    inactive_workspace   $dark      $i3gray     $dark\n"
    options="${options}    urgent_workspace	$dark      $i3yellow   $dark\n"
    options="${options}    }\n"
    options="${options}}\n"
elif [ "$system_id" = "manjaro" ]; then
    options="${options}bar {\n"
    options="${options}    id bar-1 \n"
    options="${options}    position top\n"
    options="${options}    output primary\n"
    options="${options}    tray_output primary\n"
    options="${options}    tray_padding 2\n"
    options="${options}    separator_symbol \" \"\n"
    options="${options}    mode dock \n"
    options="${options}    font pango: $font\n"
    options="${options}    status_command $status_command\n"
   # options="${options}    status_command i3status -c $cfg_dir/i3status.conf\n"
    options="${options}    i3bar_command i3bar\n"
    # options="${options}    status_command SCRIPT_DIR=$cfg_dir/i3blocks $status_command\n"
    options="${options}    colors {\n"
    options="${options}    background $i3darker\n"
    #options="${options}    statusline $i3darker\n"
    #options="${options}    separator  $i3purple\n"
			   #                    border     backgr      text
    options="${options}    focused_workspace    $i3blue    $i3green    $dark\n"
    options="${options}    active_workspace	$dark      $i3blue     $i3white\n"
    options="${options}    inactive_workspace   $dark      $i3gray     $dark\n"
    options="${options}    urgent_workspace	$dark      $i3yellow   $dark\n"
    options="${options}    }\n"
    options="${options}}\n"
fi
 
#}}}
################################################################################################
## caps lock/num lock status                                                                  ##{{{
################################################################################################
# 
options="${options}bindsym --release Caps_Lock \$exe pkill -SIGRTMIN+11 i3blocks\n"
options="${options}bindsym --release Num_Lock  \$exe pkill -SIGRTMIN+11 i3blocks\n"
#}}}
################################################################################################
## sound-section                                                                              ##{{{
################################################################################################
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    # volume control and i3blocks volume status --------------------------------
    options="${options}set \$vol_signal pkill -SIGRTMIN+10 i3blocks\n"
    options="${options}bindsym XF86AudioRaiseVolume \$exe pactl set-sink-volume \$pa_sink +5%%  && \$vol_signal\n"
    options="${options}bindsym XF86AudioLowerVolume \$exe pactl set-sink-volume \$pa_sink -5%%  && \$vol_signal\n"
    options="${options}bindsym XF86AudioMute        \$exe pactl set-sink-mute \$pa_sink toggle && \$vol_signal\n"
    options="${options}bindsym XF86HomePage         \$exe pavucontrol\n"

elif [ "$system_id" = "manjaro" ]; then
#}}}
    ################################################################################################
    ## sound-section - DO NOT EDIT if you wish to automatically upgrade Alsa -> Pulseaudio later! ##{{{
    ################################################################################################
    options="${options}\$exe volumeicon\n"
    options="${options}bindsym \$mod+Ctrl+m exec $Terminal -e \'alsamixer\'\n"
    #exec --no-startup-id pulseaudio
    #exec --no-startup-id pa-applet
    #bindsym $mod+Ctrl+m exec pavucontrol
fi

    #}}}
################################################################################################
## Session startup                                                                            ##{{{
################################################################################################
#OFF bell on preference for X
options="${options}\$exe_always xset b off\n"
#Keyboard settings
options="${options}\$exe numlockx on\n"
options="${options}\$exe xfce4-power-manager\n"
#Networkmanager wicd and NM do not work together
options="${options}\$exe nm-applet --indicator\n"
#change config for my preferences
options="${options}\$exe $cfg_dir/autostart/i3config\n"
options="${options}\$exe $cfg_dir/autostart/wallpapers\n"
options="${options}\$exe compton --config ~/.config/compton.conf\n"
options="${options}\$exe $binaries/rm_linedup ~/.bash_history\n"
#Apps autoexec on start
options="${options}\$exe goldendict\n"
options="${options}\$exe blueman-applet\n"
if [ "$system_id" = "debian" ] || [ "$system_id" = "ubuntu" ]; then
    options="${options}\$exe /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1\n"
    options="${options}\$exe xautolock -time 10 -locker \"i3lock-fancy -p -g\"\n"
    options="${options}\$exe diodon\n"
elif [ "$system_id" = "manjaro" ]; then
    options="${options}\$exe /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1\n"
    options="${options}\$exe clipit\n"
    options="${options}\$exe xautolock -time 10 -locker blurlock\n"
    options="${options}\$exe pamac-tray\n"
    if [ -e ~/.config/conky/ ];then
	options="${options}\$exe \$HOME/.config/conky/start_conky_maia\n"
    else
	options="${options}\$exe start_conky_maia\n"
    fi
    options="${options}\$exe ff-theme-util\n"
    options="${options}\$exe fix_xcursor\n"
    options="${options}\$exe_always xrdb -load ~/.Xresources\n"
    # exec_always --no-startup-id sbxkb
    #$exe start_conky_green
fi
#}}}
#### config ends in this line

printf "$options%s" > "$i3_cfg"

if [ -f "$i3_cfg" ]; then
    cmOk "i3 config file"
else
    clnError "Could not write config file"
fi
